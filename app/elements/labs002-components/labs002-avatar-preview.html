<!-- A-Labs -->

<link rel="import" href="../../bower_components/polymer/polymer.html">


<dom-module id="labs002-avatar-preview">
  <style>
  
      :host {
        display: block;
      --this-shoescolor: var(--primary-purple);
             width: 100%;
             height: 100%;

      }

      neon-animated-pages {
        height: 100%;
      }

      .svgcontainer {
        width: 100%;
        height: 100%;
      }
      .svgcontainer img {
        width: 100%;
        height: 100%;
      }
      .shoescolor {
        fill: var(--this-shoescolor);
      } 





    .canvas {
      height: 100%;
      width: 100%;
    }

    .whitebg {
      background-color: white;
    }

    .thumbcontainer {
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.1);
      position: relative;
      background-color: white;
      }

    .avatarcontainer {
      width: 100%;
      max-width: 400px; 
      height: 100vw;
      max-height: 400px; 
      position: relative;
      background: linear-gradient(to bottom, #a4e5f9 60%, white 40%); 
      @apply(--layout-vertical);
      @apply(--layout-center);
      }

    .avatarcanvas {
      width: 100%;  
      background: linear-gradient(to bottom, #a4e5f9 60%, white 40%); 
      @apply(--layout-vertical);
      @apply(--layout-center);
    }


    .absolutepos {
      position: absolute;
      width: 100%;
      height: 100%;
      max-height: 400px;    
      max-width: 400px;    
    }

    .objectvaluesbar {
      width: 100%;
      margin: 0px 0px 0px 0px;
/*      padding: 15px 15px 15px 20px;*/
      box-sizing:border-box;
      background-color: #F4F4F4;
      height: 60px;
      @apply(--layout-horizontal);
      @apply(--layout-center-center);
      box-sizing:border-box;
      border-radius: 0px 0px 2px 2px;
    }

    .valids {
      @apply(--layout-horizontal);
      @apply(--layout-end-justified);
      @apply(--layout-center);
      width: 20%;
      min-width: 40px;
      height: 100%;
    }

    .valids img {
      height: 15px;
      width: 15px;
    }

    .valids p {
      padding: 0px;
      margin: 0px 5px 0px 0px;
      font-size: var(--p-valids);
      font-family: OpensansBold;
      color: #333333;
    }

    .objectfirstvalue {
      @apply(--layout-horizontal);
      @apply(--layout-center);
      width: 80%;
      overflow: hidden;
      white-space: nowrap;
      text-overflow:ellipsis;
    }

    .objectfirstvalue p {
      width: 100%;
      text-align: left;
      margin: 0px;
      padding: 0px;
      font-family: Opensans;
      font-size: var(--p-size);
      color: #666666;
      overflow: hidden;
      white-space: nowrap;
      text-overflow:ellipsis;
    }

    .whitecanvas {
      background-color: white;
      width: 100%;
      height: 100%;
    }





    lo-peers {
      width: 75px;
      height: 75px;
      background-color: transparent;
      margin: 30px 0px 30px 0px;
    }

    .valuesbox {
      background-color: #F4F4F4;
      width: 100%;
      margin: 0px;
      @apply(--layout-vertical);
      @apply(--layout-start); 
    }

      .valuesfull {
        background-color: #F4F4F4;
      width: 100%;
      height: 100%;
      margin: 0px;
      @apply(--layout-vertical);
      @apply(--layout-start); 
}

    .values {
      width: 100%;
      height: 100%;
      padding: 20px 25px 25px 25px;
      box-sizing:border-box;
      text-align: center;
    }

    .values p {
      text-align: center;
      margin: 0px;
      padding: 0px;
      font-family: Opensans;
      font-size: 16px;
      color: #666666;
    }

    .lockedbtn {
      background-color: rgba(0,0,0,0.025);
      height: 75px;
      width: 75px;
      border-radius: 50%;
      border: none;
      outline: 0; 
      margin: 15px 0px 10px 0px;
    }

    .lockedbtn img {
      height: 100%;
      width: 100%;
    }

    .avataredit {
      width: 100%;
      background-color: white;
      padding: 0px 0px 0px 0px;
    }


    iron-collapse {
      width: 100%;
      @apply(--layout-vertical);
      @apply(--layout-center); 

    }



    .itemselector {
      width: 100%;
      background-color: transparent;
      @apply(--layout-vertical);
      @apply(--layout-center-center); 
    }

    #itemselector {
      width: 80%;
      @apply(--layout-horizontal);
      @apply(--layout-wrap);
      @apply(--layout-center-center); 
    }

    .item {
      width: 60px;
      height: 60px;
      margin: 0px;
      padding: 0px;
      @apply(--layout-horizontal);
      @apply(--layout-center-center); 
      opacity: 0.5;
    }

    .item img {
      width: 90%;
      height: 90%;
      margin: 0px;
      padding: 0px;
    }

    #itemselector .iron-selected {
      border: 2px solid var(--primary-lightblue);
      border-radius: 2px;
      border-radius: 50%;
      opacity: 1;
    }

    lo-colorpicker {
      width: 100%;
      height: 40px;
    }

    .navlayer {
      width: 100%;
      max-width: 500px;
      height: 100%;
      background-color: transparent;
    }

    .navlayer button {
      width: 50%;
      height: 100%;
      min-height: 100vw;
      opacity: 0;
    }

    lo-configbtns {
      visibility: var(--btns-visibility);
    }


  </style>
  <template>
    <div class="canvas layout vertical center-center">
      <div class="thumbcontainer">
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{backing_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{body_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{head_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{beard_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{bottom_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{face_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{glasses_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{snit_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{top_tile}}"/>
          </div>
        </div>

        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{shoe_tile}}"/>
          </div>
        </div>

       
      </div>

      <div class="objectvaluesbar">
        <div class="objectfirstvalue">
          <small>{{firstvalue}}</small>
        </div>
        <div class="valids">
          <p>{{objectpeers.length}}</p>
          <img src="../../images/accept-small.svg">
        </div>
      </div> 
      <lo-peers peers="{{objectpeers}}" on-go-back="_toBack" valcolor="var(--primary-green)"></lo-peers>

    </div>

  </template>
  <script>
  (function() {
    Polymer({
      is: 'labs002-avatar-preview',

      properties: {
        config: {
          type: Object,
          notify: true,
          observer: this.configHandler
        }
      },

      ready: function() {

        this.backing_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/empty.svg')
          },
          1: {
            url: this.resolveUrl('../../images/avatar/avatarbacking1-02.png')
          },
          2: {
            url: this.resolveUrl('../../images/avatar/avatarbacking1-02.png')
          }
        };

        this.beard_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/empty.svg')
          },
          1: {
            url: this.resolveUrl('../../images/avatar/avatarbeard1-02.png')
          },
          2: {
            url: this.resolveUrl('../../images/avatar/avatarbeard2-02.png')
          },
          3: {
            url: this.resolveUrl('../../images/avatar/avatarbeard3-02.png')
          },
          4: {
            url: this.resolveUrl('../../images/avatar/avatarbeard4-02.png')
          },
          5: {
            url: this.resolveUrl('../../images/avatar/avatarbeard5-02.png')
          },
          6: {
            url: this.resolveUrl('../../images/avatar/avatarbeard6-02.png')
          },
          7: {
            url: this.resolveUrl('../../images/avatar/avatarbeard7-02.png')
          }
        };

        this.bottom_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/avatarbottom1-03.png')
          },
          1: {
            url: this.resolveUrl('../../images/avatar/avatarbottom2-03.png')
          },
          2: {
            url: this.resolveUrl('../../images/avatar/avatarbottom3-03.png')
          },
        };

        this.face_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/avatarface-01.png')
          }
        }

        this.glasses_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/empty.svg')
          },
          1: {
            url: this.resolveUrl('../../images/avatar/avatarglasses1-08.png')
          }
        };

        this.head_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/avatarhead-01.png')
          }
        };


        this.body_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/avatarlijf-01.png')
          }
        }

        this.shoe_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/empty.svg')
          },
          1: {
            url: this.resolveUrl('../../images/avatar/avatarshoes1-04.png')
          },
          2: {
            url: this.resolveUrl('../../images/avatar/avatarshoes2-04.png')
          },
          3: {
            url: this.resolveUrl('../../images/avatar/avatarshoes2-04.png')
          }
        };

        this.snit_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/empty.svg')
          },
          1: {
            url: this.resolveUrl('../../images/avatar/avatarsnit1-08.png')
          },
          2: {
            url: this.resolveUrl('../../images/avatar/avatarsnit2-08.png')
          },
          3: {
            url: this.resolveUrl('../../images/avatar/avatarsnit3-08.png')
          },
          4: {
            url: this.resolveUrl('../../images/avatar/avatarsnit4-08.png')
          },
          5: {
            url: this.resolveUrl('../../images/avatar/avatarsnit5-08.png')
          },
          6: {
            url: this.resolveUrl('../../images/avatar/avatarsnit6-08.png')
          },
          7: {
            url: this.resolveUrl('../../images/avatar/avatarsnit7-08.png')
          },
        };

        this.top_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/empty.svg')
          },
          1: {
            url: this.resolveUrl('../../images/avatar/avatartop1-02.png')
          },
          2: {
            url: this.resolveUrl('../../images/avatar/avatartop2-02.png')
          },
          3: {
            url: this.resolveUrl('../../images/avatar/avatartop3-02.png')
          },
          4: {
            url: this.resolveUrl('../../images/avatar/avatartop4-02.png')
          },
        };

      },

      attached: function() {
        this._configHandler();
      },
      _configHandler: function() {
        console.log('avatar preview config:', this.config);

          this.backing_tile = this.backing_tiles[(this.config ? this.config.backing[0] : 0)].url;
          this.beard_tile = this.beard_tiles[(this.config ? this.config.beard[0] : 1)].url;
          this.bottom_tile = this.bottom_tiles[(this.config ? this.config.bottom[0] : 0)].url;
          this.face_tile = this.face_tiles[(this.config ? this.config.face[0] : 0)].url;
          this.glasses_tile = this.glasses_tiles[(this.config ? this.config.glasses[0] : 1)].url;
          this.head_tile = this.head_tiles[(this.config ? this.config.head[0] : 0)].url;

          this.body_tile = this.body_tiles[(this.config ? this.config.lijf[0] : 0)].url;
          this.shoe_tile = this.shoe_tiles[(this.config ? this.config.shoes[0] : 1)].url;
          this.snit_tile = this.snit_tiles[(this.config ? this.config.snit[0] : 1)].url;
          this.top_tile = this.top_tiles[(this.config ? this.config.top[0] : 1)].url;
        
      }


    });
  })();
  </script>
</dom-module>



















