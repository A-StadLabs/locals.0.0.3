<!-- A-Labs -->

<link rel="import" href="../../bower_components/polymer/polymer.html">


<dom-module id="labs002-avatar-preview">
  <style>
      :host {
        display: block;
      --this-shoescolor: var(--primary-purple);
        height: 100%;
        width: 100%;

      }

      neon-animated-pages {
        height: 100%;
      }

      .svgcontainer {
        width: 100%;
        height: 100%;
      }
      .svgcontainer img {
        width: 100%;
        height: 100%;
      }
      .shoescolor {
        fill: var(--this-shoescolor);
      } 

   .absolutepos {
      position: absolute;
      width: 100%;
      height: 100%;
      max-height: 400px;    
      max-width: 400px;    
    }


    .avatarcontainer {
      width: 100%;
      max-width: 400px; 
      height: 100vw;
      max-height: 400px; 
      position: relative;
      background: linear-gradient(to bottom, #a4e5f9 60%, white 40%); 
      @apply(--layout-vertical);
      @apply(--layout-center);
      }

    .objectfirstvalue {
      @apply(--layout-horizontal);
      @apply(--layout-center);
      width: 80%;
      overflow: hidden;
      white-space: nowrap;
      text-overflow:ellipsis;
    }

    .objectfirstvalue p {
      width: 100%;
      text-align: left;
      margin: 0px;
      padding: 0px;
      font-family: Opensans;
      font-size: var(--p-size);
      color: #666666;
      overflow: hidden;
      white-space: nowrap;
      text-overflow:ellipsis;
    }


  </style>
  <template>
    <div class="canvas layout vertical center-center">
      <div class="avatarcontainer">
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{backing_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{body_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{head_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{beard_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{bottom_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{face_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{glasses_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{snit_tile}}"/>
          </div>
        </div>
        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{top_tile}}"/>
          </div>
        </div>

        <div class="absolutepos">
          <div class="svgcontainer">
            <img src="{{shoe_tile}}"/>
          </div>
        </div>


      <div class="objectvaluesbar">
        <div class="objectfirstvalue">
          <small>{{firstvalue}}</small>
        </div>
        <div class="valids">
          <p>{{objectpeers.length}}</p>
          <img src="../../images/accept-small.svg">
        </div>
      </div>        
      </div>

    </div>

  </template>
  <script>
  (function() {
    Polymer({
      is: 'labs002-avatar-preview',

      properties: {
        config: {
          type: Object,
          notify: true,
          observer: this.configHandler
        }
      },

      ready: function() {

        this.backing_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/empty.svg')
          },
          1: {
            url: this.resolveUrl('../../images/avatar/avatarbacking1-02.png')
          },
          2: {
            url: this.resolveUrl('../../images/avatar/avatarbacking1-02.png')
          }
        };

        this.beard_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/empty.svg')
          },
          1: {
            url: this.resolveUrl('../../images/avatar/avatarbeard1-02.png')
          },
          2: {
            url: this.resolveUrl('../../images/avatar/avatarbeard2-02.png')
          },
          3: {
            url: this.resolveUrl('../../images/avatar/avatarbeard3-02.png')
          },
          4: {
            url: this.resolveUrl('../../images/avatar/avatarbeard4-02.png')
          },
          5: {
            url: this.resolveUrl('../../images/avatar/avatarbeard5-02.png')
          },
          6: {
            url: this.resolveUrl('../../images/avatar/avatarbeard6-02.png')
          },
          7: {
            url: this.resolveUrl('../../images/avatar/avatarbeard7-02.png')
          }
        };

        this.bottom_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/avatarbottom1-03.png')
          },
          1: {
            url: this.resolveUrl('../../images/avatar/avatarbottom2-03.png')
          },
          2: {
            url: this.resolveUrl('../../images/avatar/avatarbottom3-03.png')
          },
        };

        this.face_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/avatarface-01.png')
          }
        }

        this.glasses_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/empty.svg')
          },
          1: {
            url: this.resolveUrl('../../images/avatar/avatarglasses1-08.png')
          }
        };

        this.head_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/avatarhead-01.png')
          }
        };


        this.body_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/avatarlijf-01.png')
          }
        }

        this.shoe_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/empty.svg')
          },
          1: {
            url: this.resolveUrl('../../images/avatar/avatarshoes1-04.png')
          },
          2: {
            url: this.resolveUrl('../../images/avatar/avatarshoes2-04.png')
          },
          3: {
            url: this.resolveUrl('../../images/avatar/avatarshoes2-04.png')
          }
        };

        this.snit_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/empty.svg')
          },
          1: {
            url: this.resolveUrl('../../images/avatar/avatarsnit1-08.png')
          },
          2: {
            url: this.resolveUrl('../../images/avatar/avatarsnit2-08.png')
          },
          3: {
            url: this.resolveUrl('../../images/avatar/avatarsnit3-08.png')
          },
          4: {
            url: this.resolveUrl('../../images/avatar/avatarsnit4-08.png')
          },
          5: {
            url: this.resolveUrl('../../images/avatar/avatarsnit5-08.png')
          },
          6: {
            url: this.resolveUrl('../../images/avatar/avatarsnit6-08.png')
          },
          7: {
            url: this.resolveUrl('../../images/avatar/avatarsnit7-08.png')
          },
        };

        this.top_tiles = {
          0: {
            url: this.resolveUrl('../../images/avatar/empty.svg')
          },
          1: {
            url: this.resolveUrl('../../images/avatar/avatartop1-02.png')
          },
          2: {
            url: this.resolveUrl('../../images/avatar/avatartop2-02.png')
          },
          3: {
            url: this.resolveUrl('../../images/avatar/avatartop3-02.png')
          },
          4: {
            url: this.resolveUrl('../../images/avatar/avatartop4-02.png')
          },
        };

      },

      attached: function() {
        this._configHandler();
      },
      _configHandler: function() {
        console.log('avatar preview config:', this.config);

          this.backing_tile = this.backing_tiles[(this.config ? this.config.backing[0] : 0)].url;
          this.beard_tile = this.beard_tiles[(this.config ? this.config.beard[0] : 1)].url;
          this.bottom_tile = this.bottom_tiles[(this.config ? this.config.bottom[0] : 0)].url;
          this.face_tile = this.face_tiles[(this.config ? this.config.face[0] : 0)].url;
          this.glasses_tile = this.glasses_tiles[(this.config ? this.config.glasses[0] : 1)].url;
          this.head_tile = this.head_tiles[(this.config ? this.config.head[0] : 0)].url;

          this.body_tile = this.body_tiles[(this.config ? this.config.lijf[0] : 0)].url;
          this.shoe_tile = this.shoe_tiles[(this.config ? this.config.shoes[0] : 1)].url;
          this.snit_tile = this.snit_tiles[(this.config ? this.config.snit[0] : 1)].url;
          this.top_tile = this.top_tiles[(this.config ? this.config.top[0] : 1)].url;
        
      }


    });
  })();
  </script>
</dom-module>



















